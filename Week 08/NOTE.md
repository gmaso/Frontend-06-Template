# 第八周学习笔记

## 浏览器工作原理总论

浏览器渲染最终得到的是一张图片 Bitmap，然后由显卡输出到屏幕上。



## 有限状态机

通常也叫做状态机（没有无限状态机这个概念）。

每一个状态都是一个机器，机器之间互相解耦：

- 每一个机器里，可以做计算、存储、输出
- 所有的这些机器接受的输入是一致的
- 状态机的每一个机器本身没有状态，如果用函数来表示，应该是纯函数（无副作用，不应该再受外部变量的控制）

每一个机器需要知道下一个状态：

- 每个机器都有确定的下一个状态（Moore 型）
- 每个机器根据输入决定下一个状态（Mealy 型，比较实用）



## 不使用状态机处理字符串

小技巧：使用 VS Code 直接调试 js 文件

在字符串中查找 ’a‘，’ab‘，’abcdef‘，随着查找字符越来越复杂，代码越来越臃肿。



## 使用状态机处理字符串

trap：匹配到的状态

reConsume：匹配不成功时，从头再开始匹配

字符串内部存在重复时，需要跳转到上一个可能匹配的状态机。**跳转到哪个位置不太确定❓**

作业：使用状态机完成“abababx”的处理？

答：[查找 abababx](./lesson7_abababx.js)

TODO 扩展：用状态机处理完全未知的pattern？

答：[查找未知 pattern](./lesson7_kmp.js)

